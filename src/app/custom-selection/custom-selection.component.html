<mat-card class="customSelector">
  <form [formGroup]="group">

          <mat-form-field>
            <mat-select  placeholder="Building"  formControlName="building" (selectionChange)="[fetchRooms($event), updateSnifferList()]" (valueChange)="[fetchRooms($event)]">
              <mat-option *ngFor="let b of buildings" [value]="b.id">
                {{b.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-select placeholder="Room"  formControlName="room" (selectionChange)="updateSnifferList()">
              <mat-option *ngFor="let r of rooms" [value]="r.id">
                {{r.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field>
            <mat-select placeholder="Sniffer name" formControlName="name">
              <mat-option *ngFor="let s of shownSniffers" [value]="s.name">
                {{s.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-slide-toggle [(ngModel)]="toggle" [ngModelOptions]="{standalone: true}" (click)="validateDataSingola()">Range Selection</mat-slide-toggle>
    <mat-form-field *ngIf="!toggle">
      <input matInput placeholder="Date" [matDatepicker]="myDatepicker" [max]="maxDate" formControlName="dataSingola">
      <mat-datepicker-toggle matSuffix [for]="myDatepicker"></mat-datepicker-toggle>
      <mat-datepicker #myDatepicker></mat-datepicker>
    </mat-form-field>
    <mat-form-field *ngIf="toggle">
            <input matInput placeholder="From" [matDatepicker]="myDatepicker" (dateChange)="setFromMinDate()" [max]="maxDate" formControlName="dataFrom">
            <mat-datepicker-toggle matSuffix [for]="myDatepicker"></mat-datepicker-toggle>
            <mat-datepicker #myDatepicker></mat-datepicker>
          </mat-form-field>
          <mat-form-field *ngIf="toggle">
            <input matInput placeholder="To" [matDatepicker]="myDatepicker2" [max]="maxDate" [min]="fromDate" formControlName="dataTo">
            <mat-datepicker-toggle matSuffix [for]="myDatepicker2"></mat-datepicker-toggle>
            <mat-datepicker #myDatepicker2></mat-datepicker>
          </mat-form-field>
    <mat-form-field>
      <input matInput formControlName="startTime" type="time" placeholder="from" min="00:00" max="23:59">
    </mat-form-field>
    <mat-form-field>
      <input matInput formControlName="endTime" type="time" placeholder="to" (min)="setEndtimeMinValue()" max="23:59">
    </mat-form-field>
    <mat-form-field>
      <mat-select placeholder="Resolution" formControlName="resolution">
        <mat-option value="fiveMinute">5 Minuti</mat-option>
        <mat-option value="fifteenMinute">15 Minuti</mat-option>
        <mat-option value="thirtyMinute">30 Minuti</mat-option>
        <mat-option value="hour">1 Ora</mat-option>
        <mat-option value="twoHour">2 Ore</mat-option>
        <mat-option value="fourHour">4 Ore</mat-option>
        <mat-option value="sixHour">6 Ore</mat-option>
        <mat-option value="twelveHour">12 Ore</mat-option>
        <mat-option value="boh">Giorno</mat-option>
      </mat-select>
    </mat-form-field>
  </form>
  <mat-card-actions>
    <button mat-raised-button color="primary" (click)="sendData()">Confirm</button>
    <button mat-raised-button color="primary" (click)="this.group.reset()">Reset</button>
  </mat-card-actions>
</mat-card>
